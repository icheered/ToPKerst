{"remainingRequest":"/home/tjbakker/Documents/dev/vscode/webdev/topkerst/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tjbakker/Documents/dev/vscode/webdev/topkerst/frontend/src/views/Selecting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tjbakker/Documents/dev/vscode/webdev/topkerst/frontend/src/views/Selecting.vue","mtime":1614527240957},{"path":"/home/tjbakker/Documents/dev/vscode/webdev/topkerst/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tjbakker/Documents/dev/vscode/webdev/topkerst/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tjbakker/Documents/dev/vscode/webdev/topkerst/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAidnVlZHJhZ2dhYmxlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAiZHJhZ2dhYmxlIjogZHJhZ2dhYmxlCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBxdW90ZTogIlBsYWNlaG9sZGVyIHF1ZXN0aW9uPyIsCiAgICAgICAgICAgIHBlb3BsZTogWyJOYWFtMSIsCiAgICAgICAgICAgICAgICAiTmFhbTIiLAogICAgICAgICAgICAgICAgIk5hYW0zIl0sCiAgICAgICAgICAgIG5hbWU6ICJTZWxlY3QgbmFtZSIsCiAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgICB7IGlkOiAxLCB0aXRsZTogIk5hYW0xIiB9LAogICAgICAgICAgICAgICAgeyBpZDogMiwgdGl0bGU6ICJOYWFtMiIgfSwKICAgICAgICAgICAgICAgIHsgaWQ6IDMsIHRpdGxlOiAiTmFhbTMiIH0KICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgcHJpbnRsaXN0KCkgewogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLml0ZW1zW2ldLnRpdGxlKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCItLS0tIikKICAgICAgICB9LAogICAgICAgIG9uVXBkYXRlKCl7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZWQnLCB0aGlzLmxpc3QpOwogICAgICAgICAgICBjb25zb2xlLmxvZygiVXBkYXRlZCIpCiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaXRlbXNbaV0udGl0bGUpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9uS2xhYXJDbGljaygpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIlN1Ym1pdHRlZCIpCiAgICAgICAgICAgIHZhciBwZXJzb25hbF9vcmRlciA9IHsKICAgICAgICAgICAgICAgIG93bmVyOiB0aGlzLm5hbWUsCiAgICAgICAgICAgICAgICBvcmRlcjogdGhpcy5pdGVtcwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgcG9zdFVSTCA9ICdodHRwOi8vdG9wa2Vyc3QuaWNoZWVyZWQubmwvYXBpL3Jlc3VsdHM/cmVzdWx0PSU3QiUyMm93bmVyJTIyJTNBJTIyJwogICAgICAgICAgICBwb3N0VVJMICs9IHBlcnNvbmFsX29yZGVyLm93bmVyCiAgICAgICAgICAgIHBvc3RVUkwgKz0gJyUyMiUyQyUyMm9yZGVyJTIyJTNBJTVCJTdCJTIyJwogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcGVyc29uYWxfb3JkZXIub3JkZXIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHBvc3RVUkwgKz0gJ2lkJTIyJTNBJytwZXJzb25hbF9vcmRlci5vcmRlcltpXS5pZCsnJTJDJTIydGl0bGUlMjIlM0ElMjInK3BlcnNvbmFsX29yZGVyLm9yZGVyW2ldLnRpdGxlCiAgICAgICAgICAgICAgICBpZihpID09IHBlcnNvbmFsX29yZGVyLm9yZGVyLmxlbmd0aCAtIDEpewogICAgICAgICAgICAgICAgICAgIHBvc3RVUkwgKz0gIiUyMiU3RCU1RCU3RCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgcG9zdFVSTCArPSAnJTIyJTdEJTJDJTdCJTIyJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zb2xlLmxvZygiUGVyc29uYWwgT3JkZXIiKQogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShwZXJzb25hbF9vcmRlcikpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJwb3N0VVJMOiIpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBvc3RVUkwpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHR5cGVvZiBvdXRwdXQpCgogICAgICAgICAgICBmZXRjaChwb3N0VVJMLCB7CiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLCAvLyBvciAnUFVUJwogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICB9LAogICAgICAgICAgICBtb2RlOiAnbm8tY29ycycKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3M6JywgZGF0YSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRoaXMuZ29Ub1dhaXRmb3JyZXN1bHRzKCkKICAgICAgICB9LAogICAgICAgIGdvVG9XYWl0Zm9ycmVzdWx0cygpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3dhaXRmb3JyZXN1bHRzJywgKCkgPT4ge30pOwogICAgICAgIH0sCiAgICAgICAgc2V0TmFtZXMoZGF0YSkgewogICAgICAgICAgICB0aGlzLnBlb3BsZSA9IGRhdGEKICAgICAgICB9LAogICAgICAgIHNldEl0ZW1zKGRhdGEpIHsKICAgICAgICAgICAgdGhpcy5pdGVtcyA9IGRhdGEKICAgICAgICB9LAogICAgICAgIHNldFF1ZXN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgdGhpcy5xdW90ZSA9IGRhdGEKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvLyBHZXQgbGlzdCBvZiBwZW9wbGUKICAgICAgICBsZXQgVVJMID0gImh0dHA6Ly90b3BrZXJzdC5pY2hlZXJlZC5ubC9hcGkvcGVvcGxlIgogICAgICAgIGZldGNoKFVSTCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAudGhlbigoZGF0YSkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgICAgICAgICBpZihkYXRhKXsKICAgICAgICAgICAgdGhpcy5zZXROYW1lcyhkYXRhKQogICAgICAgICAgICB2YXIgcGVvcGxlbGlzdCA9IFtdCiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBwZW9wbGVsaXN0LnB1c2goCiAgICAgICAgICAgICAgICAgICAgeyJpZCI6IGkgKyAxLCAidGl0bGUiOiBkYXRhW2ldfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICB0aGlzLnNldEl0ZW1zKHBlb3BsZWxpc3QpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKCiAgICAgICAgLy9HZXQgUXVlc3Rpb24KICAgICAgICBsZXQgcVVSTCA9ICJodHRwOi8vdG9wa2Vyc3QuaWNoZWVyZWQubmwvYXBpL3F1ZXN0aW9uIgogICAgICAgIGZldGNoKHFVUkwpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSkKICAgICAgICAgICAgCiAgICAgICAgICAgIHRoaXMuc2V0UXVlc3Rpb24oZGF0YSkKICAgICAgICAgICAgCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwoKICAgIH0KfQo="},{"version":3,"sources":["Selecting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"Selecting.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container grid-list-xs>\n      <v-col>\n        <v-row align=\"center\" justify=\"center\">\n            <h1 class=\"text-center display-2\">{{quote}}</h1>\n        </v-row>\n        <v-row class=\"py-3\">\n            <v-spacer></v-spacer>\n            <v-divider></v-divider>\n            <v-divider></v-divider>\n            <v-divider></v-divider>\n            <v-spacer></v-spacer>\n        </v-row>\n        <v-row>\n            <v-spacer></v-spacer>\n        <v-col>\n            <p class=\"text-right\">Ik ben</p>\n        </v-col>\n        <v-col  class=\"pt-1\" align=\"left\" justify=\"left\">\n            <v-menu open-on-hover offset-y transition=\"slide-y-transition\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                    <v-btn\n                    color=\"primary\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    required=\"true\"\n                    >\n                    {{name}}\n                    <v-icon right>fa-angle-down</v-icon>\n                    </v-btn>\n                </template>\n\n                <v-list>\n                    <v-list-item\n                    v-for=\"(item, index) in people\"\n                    :key=\"index\"\n                    link\n                    @click=\"name = item\"\n                    >\n                    <v-list-item-title>{{ item }}</v-list-item-title>\n                    </v-list-item>\n                </v-list>\n            </v-menu>\n        </v-col>\n        <v-spacer></v-spacer>\n\n        </v-row>\n\n        <v-row class=\"pt-0 pb-5\">\n            <v-spacer></v-spacer>\n            <v-divider></v-divider>\n            <v-divider></v-divider>\n            <v-divider></v-divider>\n            <v-spacer></v-spacer>\n        </v-row>\n        <v-row  align=\"center\" justify=\"center\" class=\"pt-5 pb-3\">\n            <h1 class=\"text-center pb-5\">Mijn ranking</h1>\n        </v-row>\n\n    <v-row align=\"center\" justify=\"center\">\n    <v-sheet>\n    <v-simple-table >\n      <template v-slot:default>\n        \n        <tbody align=\"center\" justify=\"center\">\n            <draggable\n            :list=\"items\"\n            >\n            <tr\n            v-for=\"(item, index) in items\"\n            :key=\"item.id\"\n            >\n            <v-col>\n            <v-row>\n                <td class=\"customsize pl-5 pr-5 text-center\">{{ index+1 }}</td>\n\n                <td class=\"customsize pl-5 pr-5\" width=\"200px\">{{ item.title }}\n                    \n                </td>\n                <v-col class=\"py-0\">\n                <td class=\"pl-5\" right >\n                    <v-icon\n                        large\n                        center\n                    >\n                        mdi-arrow-all\n                    </v-icon>\n                </td>\n                </v-col>\n            </v-row>\n                \n                <v-row >\n                    <v-divider></v-divider>\n                </v-row>\n                </v-col>\n            </tr>\n            </draggable>\n        </tbody>\n        \n      </template>\n    </v-simple-table>\n    </v-sheet>\n    </v-row>\n    <v-row align=\"center\" justify=\"center\"  class=\"pt-8\">\n        <v-btn disabled x-large @click=\"onKlaarClick\" v-if=\"name === 'Select name'\">\n            <h1>Verstuur!</h1>\n        </v-btn>\n        <v-btn color=\"success\" x-large @click=\"onKlaarClick\" v-else>\n            <h1>Verstuur!</h1>\n        </v-btn>\n    </v-row>\n\n    </v-col>\n  </v-container>\n</template>\n\n<script>\nimport draggable from \"vuedraggable\";\n\nexport default {\n    components: {\n        \"draggable\": draggable\n    },\n    data() {\n        return {\n            quote: \"Placeholder question?\",\n            people: [\"Naam1\",\n                \"Naam2\",\n                \"Naam3\"],\n            name: \"Select name\",\n            items: [\n                { id: 1, title: \"Naam1\" },\n                { id: 2, title: \"Naam2\" },\n                { id: 3, title: \"Naam3\" }\n            ]\n        }\n    },\n    methods: {\n        printlist() {\n            for(var i = 0; i < this.items.length; i++){\n                console.log(this.items[i].title)\n            }\n            console.log(\"----\")\n        },\n        onUpdate(){\n            this.$emit('updated', this.list);\n            console.log(\"Updated\")\n            for(var i = 0; i < this.items.length; i++){\n                console.log(this.items[i].title)\n            }\n        },\n        onKlaarClick() {\n            console.log(\"Submitted\")\n            var personal_order = {\n                owner: this.name,\n                order: this.items\n            }\n            \n            var postURL = 'http://topkerst.icheered.nl/api/results?result=%7B%22owner%22%3A%22'\n            postURL += personal_order.owner\n            postURL += '%22%2C%22order%22%3A%5B%7B%22'\n            for(var i = 0; i < personal_order.order.length; i++) {\n                postURL += 'id%22%3A'+personal_order.order[i].id+'%2C%22title%22%3A%22'+personal_order.order[i].title\n                if(i == personal_order.order.length - 1){\n                    postURL += \"%22%7D%5D%7D\"\n                }\n                else{\n                    postURL += '%22%7D%2C%7B%22'\n                }\n            }\n            \n            console.log(\"Personal Order\")\n            console.log(JSON.stringify(personal_order))\n            console.log(\"postURL:\")\n            console.log(postURL)\n            console.log(typeof output)\n\n            fetch(postURL, {\n            method: 'POST', // or 'PUT'\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            mode: 'no-cors'\n            })\n            .then(response => response.json())\n            .then(data => {\n            console.log('Success:', data);\n            })\n            .catch((error) => {\n            console.error('Error:', error);\n            });\n\n            this.goToWaitforresults()\n        },\n        goToWaitforresults(){\n            this.$router.push('/waitforresults', () => {});\n        },\n        setNames(data) {\n            this.people = data\n        },\n        setItems(data) {\n            this.items = data\n        },\n        setQuestion(data) {\n            this.quote = data\n        }\n    },\n    mounted() {\n        // Get list of people\n        let URL = \"http://topkerst.icheered.nl/api/people\"\n        fetch(URL)\n        .then((response) => response.json())\n        .then((data) => {\n            console.log(data)\n            if(data){\n            this.setNames(data)\n            var peoplelist = []\n            for(var i = 0; i < data.length; i++) {\n                peoplelist.push(\n                    {\"id\": i + 1, \"title\": data[i]}\n                )\n            this.setItems(peoplelist)\n            }\n            }\n        })\n        .catch(function(error) {\n            console.log(error);\n        });\n\n        //Get Question\n        let qURL = \"http://topkerst.icheered.nl/api/question\"\n        fetch(qURL)\n        .then((response) => response.json())\n        .then((data) => {\n            console.log(data)\n            \n            this.setQuestion(data)\n            \n        })\n        .catch(function(error) {\n            console.log(error);\n        });\n\n    }\n}\n</script>\n\n<style scoped>\n.customsize {\n    font-size: 25px;\n};\n</style>"]}]}